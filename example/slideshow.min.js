class Slideshow{constructor(items,indicators,loop,shouldDebounce,shouldAutoTransition,autoTransitionTime,autoTransitionDelay,selectedIndicatorClass,prevItemClass,selectedItemClass,nextItemClass,transitioningClass,notransitionClass){this.items=items;this.indicators=indicators;this.loop=loop;this.shouldDebounce=shouldDebounce;this.shouldAutoTransition=shouldAutoTransition;this.autoTransitionTime=autoTransitionTime;this.autoTransitionDelay=autoTransitionDelay;this.selectedIndicatorClass=selectedIndicatorClass;this.prevItemClass=prevItemClass;this.selectedItemClass=selectedItemClass;this.nextItemClass=nextItemClass;this.transitioningClass=transitioningClass;this.notransitionClass=notransitionClass;this.transitioning=!1;this.transitioningTimeout=null;this.indicators!=null&&(this.items.length!=this.indicators.length?console.error("Invalid number of indicators! Number of indicators must match number of items."):this.initiateIndicators());this.autoTransitionDirection=1;this.autoTransitionInterval=null;this.autoTransitionTimeout=null;this.startAutoTransition()}initiateIndicators(){for(var i=0;i<this.indicators.length;i++)this.indicators[i].setAttribute("data-index",i)}updateIndicators(selectedIndex){for(var i=0;i<this.indicators.length;i++)i==selectedIndex?this.indicators[i].classList.add(this.selectedIndicatorClass):this.indicators[i].classList.contains(this.selectedIndicatorClass)&&this.indicators[i].classList.remove(this.selectedIndicatorClass)}getSelectedIndex(){for(var i=0;i<this.items.length;i++)if(this.items[i].classList.contains(this.selectedItemClass))return i;return-1}isAtFront(){var selectedIndex=this.getSelectedIndex();return selectedIndex==0?!0:!1}isAtEnd(){var selectedIndex=this.getSelectedIndex();return selectedIndex==this.items.length-1?!0:!1}debounce(){if(this.shouldDebounce){if(this.transitioning)return!0;this.transitioning=!0;this.transitioningTimeout!=null&&clearTimeout(this.transitioningTimeout);var object=this;this.transitioningTimeout=setTimeout(function(){object.transitioning=!1},3e3)}return!1}endDebounce(){this.shouldDebounce&&(this.transitioningTimeout!=null&&clearTimeout(this.transitioningTimeout),this.transitioning=!1)}transitionForward(auto=true){var next,object,selectedLoopTimeout;if(!this.debounce()){this.resetAllTransitioning();!auto&&this.shouldAutoTransition&&this.stopAutoTransition();var selectedIndex=this.getSelectedIndex(),selected=this.items[selectedIndex],looping=!1,nextIndex=selectedIndex+1;if(nextIndex==this.items.length){if(!this.loop){this.endDebounce();return}looping=!0;nextIndex=0}next=this.items[nextIndex];this.updateIndicators(nextIndex);looping&&this.reclauclatePositions(selectedIndex,!0);object=this;this.markTransitioning(selected,!1,function(){looping&&(object.reclauclatePositions(nextIndex),selectedLoopTimeout!=null&&clearTimeout(selectedLoopTimeout))});looping&&(selectedLoopTimeout=setTimeout(function(){object.reclauclatePositions(nextIndex)},3e3));this.markTransitioning(next,!0);selected.classList.remove(this.selectedItemClass);selected.classList.add(this.prevItemClass);next.classList.remove(this.nextItemClass);next.classList.add(this.selectedItemClass)}}transitionBackward(auto=true){var prev,object;if(!this.debounce()){this.resetAllTransitioning();!auto&&this.shouldAutoTransition&&this.stopAutoTransition();var selectedIndex=this.getSelectedIndex(),selected=this.items[selectedIndex],looping=!1,prevIndex=selectedIndex-1;if(prevIndex<0){if(!this.loop){this.endDebounce();return}looping=!0;prevIndex=this.items.length-1}prev=this.items[prevIndex];this.updateIndicators(prevIndex);looping&&this.reclauclatePositions(selectedIndex,!0);object=this;this.markTransitioning(selected,!1,function(){looping&&object.reclauclatePositions(prevIndex)});this.markTransitioning(prev,!0);selected.classList.remove(this.selectedItemClass);selected.classList.add(this.nextItemClass);prev.classList.remove(this.prevItemClass);prev.classList.add(this.selectedItemClass)}}transitionTo(targetIndex){var selectedIndex=this.getSelectedIndex(),selected,target,distance,object;selectedIndex!=targetIndex&&(this.debounce()||(this.resetAllTransitioning(),this.shouldAutoTransition&&this.stopAutoTransition(),this.updateIndicators(targetIndex),selected=this.items[selectedIndex],target=this.items[targetIndex],selectedIndex<targetIndex?(distance=targetIndex-selectedIndex,object=this,this.markTransitioning(selected,!1,function(){object.transitionToPrevLoop(selectedIndex,distance,1,function(){object.markTransitioning(target,!0);target.classList.remove(object.nextItemClass);target.classList.add(object.selectedItemClass)})}),selected.classList.remove(this.selectedItemClass),selected.classList.add(this.prevItemClass)):(distance=selectedIndex-targetIndex,object=this,this.markTransitioning(selected,!1,function(){object.transitionToNextLoop(selectedIndex,distance,1,function(){object.markTransitioning(target,!0);target.classList.remove(object.prevItemClass);target.classList.add(object.selectedItemClass)})}),selected.classList.remove(this.selectedItemClass),selected.classList.add(this.nextItemClass))))}transitionToPrevLoop(selectedIndex,distance,i,callback){if(i>=distance){callback();return}var current=this.items[selectedIndex+i],object=this;this.markTransitioning(current,!1,function(){object.transitionToPrevLoop(selectedIndex,distance,++i,callback)});current.classList.remove(this.nextItemClass);current.classList.add(this.prevItemClass)}transitionToNextLoop(selectedIndex,distance,i,callback){if(i>=distance){callback();return}var current=this.items[selectedIndex-i],object=this;this.markTransitioning(current,!1,function(){object.transitionToNextLoop(selectedIndex,distance,++i,callback)});current.classList.remove(this.prevItemClass);current.classList.add(this.nextItemClass)}startAutoTransition(){this.autoTransitionInterval!=null&&(clearInterval(this.autoTransitionInterval),this.autoTransitionInterval=null);var object=this;this.autoTransitionInterval=setInterval(function(){object.autoTransition()},this.autoTransitionTime)}stopAutoTransition(){this.autoTransitionInterval!=null&&(clearInterval(this.autoTransitionInterval),this.autoTransitionInterval=null);this.autoTransitionTimeout!=null&&(clearTimeout(this.autoTransitionTimeout),this.autoTransitionTimeout=null);var object=this;this.autoTransitionTimeout=setTimeout(function(){object.startAutoTransition();clearTimeout(object.autoTransitionTimeout);object.autoTransitionTimeout=null},this.autoTransitionDelay)}autoTransition(){this.loop?this.transitionForward():(this.isAtEnd()?this.autoTransitionDirection=0:this.isAtFront()&&(this.autoTransitionDirection=1),this.autoTransitionDirection==1?this.transitionForward():this.transitionBackward())}reclauclatePositions(selectedIndex,shouldFlipPositions=false){for(var i=0;i<this.items.length;i++)i!=selectedIndex&&(this.notransitionClass!=null&&this.items[i].classList.add(this.notransitionClass),shouldFlipPositions?i>selectedIndex?(this.items[i].classList.remove(this.nextItemClass),this.items[i].classList.add(this.prevItemClass)):(this.items[i].classList.remove(this.prevItemClass),this.items[i].classList.add(this.nextItemClass)):i<selectedIndex?(this.items[i].classList.remove(this.nextItemClass),this.items[i].classList.add(this.prevItemClass)):(this.items[i].classList.remove(this.prevItemClass),this.items[i].classList.add(this.nextItemClass)),this.items[i].offsetHeight,this.notransitionClass!=null&&this.items[i].classList.remove(this.notransitionClass))}markTransitioning(item,endDebounce,callback=null){if(this.transitioningClass!=null){var backupTimeout,object=this;item.addEventListener("transitionend",function onTransitionEnd(){(item.classList.remove(object.transitioningClass),item.removeEventListener("transitionend",onTransitionEnd),backupTimeout!=null)&&(clearTimeout(backupTimeout),endDebounce&&object.transitioningTimeout!=null&&object.shouldDebounce&&(object.transitioning=!1,clearTimeout(object.transitioningTimeout)),callback!=null&&callback())});backupTimeout=setTimeout(function(){backupTimeout=null;object.transitioningTimeout!=null&&object.shouldDebounce&&(object.transitioning=!1,clearTimeout(object.transitioningTimeout));callback!=null&&callback()},3e3);item.classList.add(this.transitioningClass)}}resetAllTransitioning(){if(this.transitioningClass!=null)for(var i=0;i<this.items.length;i++)this.items[i].classList.contains(this.transitioningClass)&&this.items[i].classList.remove(this.transitioningClass)}static getItemsFromElement(slideshowId,slideshowItemClass){for(var children=Array.from(document.getElementById(slideshowId).children),i=0;i<children.length;i++)children[i].classList.contains(slideshowItemClass)||(children.splice(i,1),i--);return children}}
//# sourceMappingURL=slideshow.min.js.map